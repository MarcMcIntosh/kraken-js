{
    "middleware": {

        "static": {
            "arguments": ["path:./.build"]
        },
        //flash messaging middleware
        "flash": {
            "priority": 91,
            "module": "connect-flash",
            "factoryMethod": "flash",
            "enabled": true
        },
        //test if user session required to view page and if user has permission for given page
        "isAuthenticated": {
            "enabled": true,
            "priority": 111,
            "module": "path:./lib/auth"
        },
        //add the user to the response object
        "injectUser": {
            "enabled": true,
            "priority": 112,
            "module": "path:./lib/auth"
        },
        "router": {
            "arguments": [{
                "directory": "path:./controllers"
            }]
        },

        "fileNotFound": {
            "enabled": true,
            "priority": 130,
            "module": "kraken-js/middleware/404",
            "arguments": ["errors/404"]
        },

        "serverError": {
            "enabled": true,
            "priority": 140,
            "module": "kraken-js/middleware/500",
            "arguments": ["errors/500"]
        }

    }
}
